<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: index.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: index.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>'use strict';
const path = require('path');

const ADAPTERS = require(path.join(__dirname, './adapters/index'));

const CONTENT_ADAPTER_INTERFACE = class Adapter_Interface {
	/**
	 * Creates an interface
	 * @param  {Object} [options={}] A set of properties defined by keys with their allowed types as values. Each property will be required by newly constructed classes from this interface
	 */
	constructor (options = {}) {
		this.interface = (this.interface &amp;&amp; typeof this.interface === 'object') ? this.interface : {};
		for (let key in options) {
			this.interface[key] = options[key];
		}
	}
	/**
	 * Constructs a new object with a prototype defined by the .adapter ensuring that instantiated class conforms to interface requirements
	 * @param  {Object} [options={}] Values to be passed to class constructor (.adapter should be reserved for either customer class or string that matches key in ADAPTERS)
	 * @param {string|Function} options.adapter Required to specify type of adapter to be constructed or a class constructor that can be instantiated with new keyword
	 * @param {string|Function} options.responder Alias for options.adapter. If options.responder is defined options.adapter will be ignored
	 * @return {Object}         Returns an instantiated adapter class
	 */
	create (options = {}) {
		options.adapter = (options.responder) ? options.responder : options.adapter;
		let Adapter = (typeof options.adapter === 'string') ? ADAPTERS[options.adapter] : options.adapter;
		if (!Adapter) throw new Error('Could not find a corresponding adapter - for custom adapters pass the constructor as the "adapter" options');
		let adapter = new Adapter(options);
		let errors = [];
		for (let key in this.interface) {
			if (this.interface[key] !== typeof adapter[key]) errors.push(`${ key } is invalid type ${ typeof adapter[key] } and should be ${ this.interface[key] }`);
		}
		if (errors.length) {
			let compiledErrors = errors.reduce((result, error, index) => {
				if (index === errors.length - 1) result += error;
				else result += `${ error }, `;
				return result;
			}, '');
			throw new Error(compiledErrors);
		}
		return adapter;
	}
};

module.exports = new CONTENT_ADAPTER_INTERFACE({
	render: 'function',
	error: 'function'
});
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="CONTENT_ADAPTER_INTERFACE.html">CONTENT_ADAPTER_INTERFACE</a></li><li><a href="HTML_ADAPTER.html">HTML_ADAPTER</a></li><li><a href="JSON_ADAPTER.html">JSON_ADAPTER</a></li><li><a href="XML_ADAPTER.html">XML_ADAPTER</a></li></ul><h3>Global</h3><ul><li><a href="global.html#_ERROR">_ERROR</a></li><li><a href="global.html#_RENDER">_RENDER</a></li><li><a href="global.html#findValidViewFromPaths">findValidViewFromPaths</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.3</a> on Thu Dec 22 2016 12:24:15 GMT-0500 (EST)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
